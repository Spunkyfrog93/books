{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\shann\\\\books\\\\google-books\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\shann\\\\books\\\\google-books\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\shann\\\\books\\\\google-books\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\shann\\\\books\\\\google-books\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\shann\\\\books\\\\google-books\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\shann\\\\books\\\\google-books\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\shann\\\\books\\\\google-books\\\\client\\\\src\\\\pages\\\\search.js\";\nimport React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport Book from \"../components/Book/index\";\nimport SearchForm from \"../components/SearchForm/index\";\nimport { List } from \"../components/List/index\";\nimport API from \"../utils/API\";\n\nvar Search = /*#__PURE__*/function (_Component) {\n  _inherits(Search, _Component);\n\n  function Search() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Search)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      books: [],\n      q: \"\",\n      message: \"Simply search for books via the Google Books API\"\n    };\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.getBooks = function () {\n      API.getBooks(_this.state.q).then(function (res) {\n        return _this.setState({\n          books: res.data,\n          currentPage: 1\n        });\n      }).catch(function () {\n        toast.error(\"Your search did not match any book results.\");\n\n        _this.setState({\n          books: [],\n          message: \"Your search did not match any book results.\",\n          currentPage: 1\n        });\n      });\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n      toast.info(\"Searching ... !\");\n\n      _this.getBooks();\n    };\n\n    _this.handleBookSave = function (id) {\n      var book = _this.state.books.find(function (book) {\n        return book.id === id;\n      });\n\n      API.saveBook({\n        googleId: book.id,\n        title: book.volumeInfo.title,\n        subtitle: book.volumeInfo.subtitle,\n        link: book.volumeInfo.infoLink,\n        authors: book.volumeInfo.authors,\n        description: book.volumeInfo.description,\n        image: book.volumeInfo.imageLinks.thumbnail\n      }).then(function () {\n        return _this.getBooks();\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-10 col-centered\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-wrap flex-row bd-highlight mb-3 justify-content-center align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"order-sm-2 p-2 bd-highlight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"image-250\",\n        src: \"/images/img-books-window.jpg\",\n        alt: \"React Google Books Search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"order-sm-1 p-2 bd-highlight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"heading-title mx-sm-3 mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, \"React Google Books Search\"), /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"heading-subtitle mx-sm-3 mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }, \"Search for and Save Books of Interest.\"), /*#__PURE__*/React.createElement(SearchForm, {\n        handleInputChange: this.handleInputChange,\n        handleFormSubmit: this.handleFormSubmit,\n        q: this.state.q,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-10 col-centered card-content mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"heading-title mx-sm-3 mb-2 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }\n      }, \"Results\"), this.state.books.length ? /*#__PURE__*/React.createElement(List, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }\n      }, this.state.books.map(function (book) {\n        return /*#__PURE__*/React.createElement(Book, {\n          key: book.id,\n          title: book.volumeInfo.title,\n          subtitle: book.volumeInfo.subtitle,\n          link: book.volumeInfo.infoLink,\n          authors: book.volumeInfo.authors.join(\", \"),\n          description: book.volumeInfo.description,\n          image: book.volumeInfo.imageLinks.thumbnail,\n          Button: function Button() {\n            return /*#__PURE__*/React.createElement(\"button\", {\n              onClick: function onClick() {\n                return _this2.handleBookSave(book.id);\n              },\n              className: \"btn save-button  heading-subtitle ml-2\",\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 23\n              }\n            }, \"Save\");\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 19\n          }\n        });\n      })) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mockup-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"heading-title text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }, this.state.message)))));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/shann/books/google-books/client/src/pages/search.js"],"names":["React","Component","toast","Book","SearchForm","List","API","Search","state","books","q","message","handleInputChange","event","target","name","value","setState","getBooks","then","res","data","currentPage","catch","error","handleFormSubmit","preventDefault","info","handleBookSave","id","book","find","saveBook","googleId","title","volumeInfo","subtitle","link","infoLink","authors","description","image","imageLinks","thumbnail","length","map","join"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport Book from \"../components/Book/index\";\r\nimport SearchForm from \"../components/SearchForm/index\";\r\nimport { List } from \"../components/List/index\";\r\nimport API from \"../utils/API\";\r\n\r\nclass Search extends Component {\r\n  state = {\r\n    books: [],\r\n    q: \"\",\r\n    message: \"Simply search for books via the Google Books API\"\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  getBooks = () => {\r\n    API.getBooks(this.state.q)\r\n      .then(res =>\r\n        this.setState({\r\n          books: res.data,\r\n          currentPage: 1\r\n        })\r\n      )\r\n      .catch(() => {\r\n        toast.error(\"Your search did not match any book results.\");\r\n\r\n        this.setState({\r\n          books: [],\r\n          message: \"Your search did not match any book results.\",\r\n          currentPage: 1\r\n        });\r\n      });\r\n  };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    toast.info(\"Searching ... !\");\r\n    this.getBooks();\r\n  };\r\n\r\n  handleBookSave = id => {\r\n    const book = this.state.books.find(book => book.id === id);\r\n\r\n    API.saveBook({\r\n      googleId: book.id,\r\n      title: book.volumeInfo.title,\r\n      subtitle: book.volumeInfo.subtitle,\r\n      link: book.volumeInfo.infoLink,\r\n      authors: book.volumeInfo.authors,\r\n      description: book.volumeInfo.description,\r\n      image: book.volumeInfo.imageLinks.thumbnail\r\n    }).then(() => this.getBooks());\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-10 col-centered\">\r\n            <div className=\"d-flex flex-wrap flex-row bd-highlight mb-3 justify-content-center align-items-center\">\r\n              <div className=\"order-sm-2 p-2 bd-highlight\">\r\n                <img\r\n                  className=\"image-250\"\r\n                  src=\"/images/img-books-window.jpg\"\r\n                  alt=\"React Google Books Search\"\r\n                />\r\n              </div>\r\n              <div className=\"order-sm-1 p-2 bd-highlight\">\r\n                <h1 className=\"heading-title mx-sm-3 mb-2\">\r\n                  React Google Books Search\r\n                </h1>\r\n                <h2 className=\"heading-subtitle mx-sm-3 mb-2\">\r\n                  Search for and Save Books of Interest.\r\n                </h2>\r\n                <SearchForm\r\n                  handleInputChange={this.handleInputChange}\r\n                  handleFormSubmit={this.handleFormSubmit}\r\n                  q={this.state.q}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-10 col-centered card-content mb-4\">\r\n            <h1 className=\"heading-title mx-sm-3 mb-2 text-center\">Results</h1>\r\n\r\n            {this.state.books.length ? (\r\n              <List>\r\n                {this.state.books.map(book => (\r\n                  <Book\r\n                    key={book.id}\r\n                    title={book.volumeInfo.title}\r\n                    subtitle={book.volumeInfo.subtitle}\r\n                    link={book.volumeInfo.infoLink}\r\n                    authors={book.volumeInfo.authors.join(\", \")}\r\n                    description={book.volumeInfo.description}\r\n                    image={book.volumeInfo.imageLinks.thumbnail}\r\n                    Button={() => (\r\n                      <button\r\n                        onClick={() => this.handleBookSave(book.id)}\r\n                        className=\"btn save-button  heading-subtitle ml-2\"\r\n                      >\r\n                        Save\r\n                      </button>\r\n                    )}\r\n                  />\r\n                ))}\r\n              </List>\r\n            ) : (\r\n              <div className=\"mockup-content\">\r\n                <h2 className=\"heading-title text-center\">\r\n                  {this.state.message}\r\n                </h2>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}